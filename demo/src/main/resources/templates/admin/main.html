<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <title>List Users</title>
</head>
<body>
<table class="table table-bordered table-striped">
  <tr>
    <th>ID</th>
    <th>Username</th>
    <th>Role</th>
  </tr>

  <p th:if="${users} != null" th:text="|Number of available communities: ${#lists.size(users)}|"></p>

  <tr th:if="${#lists.isEmpty(users)}">
    <td colspan="4">The community list is empty</td>
  </tr>
  <tr th:each="user : ${users}">
    <td th:text="${user.id}" />
    <td th:text="${user.username}" />
    <td th:text="${user.roles}" />
    <td>
      <th:block th:with="id=${user.id}">
        <a th:href="@{'users/' + ${id}}">More</a>
      </th:block>
    </td>
  </tr>
</table>
<a href="#" onclick="history.go(-1)">Back to the panel</a>
<a th:href="@{'/logout'}">Logout</a>
</body>
</html>